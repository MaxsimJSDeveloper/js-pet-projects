{"version":3,"file":"commonHelpers2.js","sources":["../src/js/calculator.js"],"sourcesContent":["const numbers = document.querySelectorAll('.number');\nconst result = document.querySelector('.result p');\nconst signs = document.querySelectorAll('.sign');\nconst equals = document.querySelector('.equal');\nconst clear = document.querySelector('.ac');\nconst negative = document.querySelector('.plus-minus');\nconst percent = document.querySelector('.percent');\nconst dots = document.querySelector('.dot');\n\nlet firstValue = '';\nlet isFirstValue = false;\nlet secondValue = '';\nlet isSecondValue = false;\nlet sign = '';\nlet resultValue = 0;\n\n//  Цикл для виводу та отримання чисел\nfor (let i = 0; i < numbers.length; i++) {\n  numbers[i].addEventListener('click', e => {\n    let atr = e.target.getAttribute('value');\n    if (!isFirstValue) {\n      getFirstValue(atr);\n    } else if (isFirstValue && !isSecondValue) {\n      getSecondValue(atr);\n    }\n  });\n}\n\nfunction getFirstValue(el) {\n  result.innerHTML = '';\n  if (el === '0' && firstValue === '0') return;\n  if (el === '.' && firstValue.includes('.')) return;\n  if (firstValue === '0' && el !== '.') {\n    firstValue = el;\n  } else {\n    firstValue += el;\n  }\n  result.innerHTML = parseFloat(firstValue);\n  checkFontSize();\n}\n\nfunction getSecondValue(el) {\n  if (el === '0' && secondValue === '0') return;\n  if (firstValue != '' && sign != '') {\n    result.innerHTML = '';\n    if (el === '.' && secondValue.includes('.')) return;\n    secondValue += el;\n    result.innerHTML = parseFloat(secondValue);\n    checkFontSize();\n  }\n}\n\n// Дізнаємося який знак\nfunction getSign() {\n  for (let i = 0; i < signs.length; i++) {\n    signs[i].addEventListener('click', e => {\n      if (isFirstValue && secondValue !== '') {\n        calculateResult();\n      }\n      sign = e.target.getAttribute('value');\n      isFirstValue = true;\n    });\n  }\n}\ngetSign();\n\nequals.addEventListener('click', calculateResult);\n\nlet previousResult = ''; // Змінна для зберігання попереднього результату\n\nfunction calculateResult() {\n  // Перетворення значень на числа\n  const num1 = parseFloat(firstValue);\n  const num2 = parseFloat(secondValue);\n\n  if (firstValue !== '' && secondValue === '') {\n    resultValue = num1;\n  }\n\n  if (sign === '+') {\n    resultValue = num1 + num2;\n  } else if (sign === '-') {\n    resultValue = num1 - num2;\n  } else if (sign === 'x') {\n    resultValue = num1 * num2;\n  } else if (sign === '/') {\n    if (num2 === 0 || num1 === 0) {\n      result.innerHTML = `<p class=\"message\">На 0 ділити не можна!</p>`;\n      return;\n    }\n    resultValue = num1 / num2;\n  }\n\n  // Збереження поточного результату як попереднього\n  previousResult = resultValue;\n\n  result.innerHTML = resultValue;\n  firstValue = resultValue.toString();\n  secondValue = '';\n  checkResultLength();\n  checkFontSize();\n\n  // Обнулення змінних\n  firstValue = '';\n  secondValue = '';\n  sign = '';\n}\n\nequals.addEventListener('click', () => {\n  calculateResult();\n  firstValue = previousResult; // Встановлення поточного результату як першого значення для наступного обчислення\n});\n\nfunction checkResultLength() {\n  resultValue = parseFloat(resultValue.toFixed(5));\n  result.innerHTML = resultValue;\n}\n\nnegative.addEventListener('click', changeSign);\n\nfunction changeSign() {\n  result.innerHTML = '';\n  if (firstValue !== '') {\n    resultValue = -parseFloat(firstValue); // Отримуємо змінну firstValue, яка містить перше число\n    firstValue = resultValue.toString();\n    result.innerHTML = resultValue;\n  }\n  if (firstValue !== '' && secondValue !== '' && sign !== '') {\n    resultValue = -resultValue;\n    result.innerHTML = resultValue;\n  }\n}\n\npercent.addEventListener('click', percentCalc);\n\nfunction percentCalc() {\n  result.innerHTML = '';\n  let tempValue = parseFloat(firstValue);\n  if (tempValue !== '') {\n    resultValue = tempValue / 100;\n    firstValue = resultValue;\n  }\n  if (firstValue !== '' && secondValue !== '' && sign !== '') {\n    resultValue = resultValue / 100;\n  }\n  result.innerHTML = resultValue;\n}\n\nclear.addEventListener('click', cleaner);\n\nfunction cleaner() {\n  result.innerHTML = 0;\n  firstValue = '';\n  isFirstValue = false;\n  secondValue = '';\n  isSecondValue = false;\n  sign = '';\n  resultValue = 0;\n  result.style.fontSize = '4em';\n}\n\ndots.addEventListener('click', e => {\n  let dotValue = e.target.getAttribute('value');\n  if (!isFirstValue) {\n    firstValue += firstValue === '' ? '0' : '';\n    if (!firstValue.includes('.')) {\n      firstValue += dotValue;\n      result.innerHTML = firstValue;\n    }\n  }\n  if (isFirstValue && !isSecondValue) {\n    secondValue += secondValue === '' ? '0' : '';\n    if (!secondValue.includes('.')) {\n      secondValue += dotValue;\n      result.innerHTML = secondValue;\n    }\n  }\n});\n\nfunction checkFontSize() {\n  if (result.innerHTML.length > 30) {\n    result.innerHTML = `<p class=\"massage lol\">---- ⊙_⊙ ----</p>`;\n  } else if (result.innerHTML.length > 14) {\n    result.style.fontSize = '1em';\n  } else if (result.innerHTML.length > 11) {\n    result.style.fontSize = '2em';\n  } else if (result.innerHTML.length > 8) {\n    result.style.fontSize = '3em';\n  } else {\n    result.style.fontSize = '4em';\n  }\n}\n"],"names":["numbers","result","signs","equals","clear","negative","percent","dots","firstValue","isFirstValue","secondValue","isSecondValue","sign","resultValue","i","e","atr","getSecondValue","getFirstValue","el","checkFontSize","getSign","calculateResult","previousResult","num1","num2","checkResultLength","changeSign","percentCalc","tempValue","cleaner","dotValue"],"mappings":"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"}